# Навчальний програмний застосунок для покрокового знаходження власних значень і власних векторів заданих квадратних матриць

---

# Огляд проекту

Цей React проект створено для обчислення власних значень та власних векторів матриць. Він надає зручний інтерфейс для роботи з математичними виразами та відображення результатів з детальними кроками обчислень.

## Використані технології

-   **React 19** - для побудови компонентного UI
-   **Zustand** - для керування станом додатку
-   **Web Workers** - для виконання обчислень у фоновому потоці
-   **MathML** - для відображення математичних формул
-   **Vite** - для збірки та розробки

Архітектура проекту базується на розділенні обчислювальної логіки (виконується у Web Worker) та інтерфейсу користувача. В проекті `math.js` містить велику колекцію математичних функцій та алгоритмів, які використовуються для обробки матриць та обчислення власних значень/векторів.

## Особливості проекту

Проект підтримує:
-   Створення і видалення вкладок для організації обчислень
-   Додавання різних математичних виразів
-   Інтерактивні пояснення з можливістю розгортання додаткових кроків
-   Анімовані підказки для полегшення розуміння алгоритмів
-   Збереження стану в локальному сховищі
-   **Скидання до початкового стану:** Клік на логотип у верхній частині сторінки дозволяє скинути всі вкладки та вирази до початкових прикладів.

Також реалізовано динамічне підсвічування та підказки для покрокового пояснення математичних операцій, що робить додаток корисним як навчальний інструмент для лінійної алгебри.

---

# Загальний принцип роботи

1.  **Ініціалізація:**
   *   При запуску додатку (`App.jsx`) ініціалізується Web Worker (`MathWorkerClient.js` -> `math.js`). Це створює окремий потік для виконання складних математичних обчислень, не блокуючи основний потік UI.
   *   Також ініціалізується стан додатку за допомогою Zustand (`ExpressionStore.js`). Стан завантажується з `localStorage` (якщо він там є) або використовуються початкові значення з прикладами.
2.  **Відображення інтерфейсу:**
   *   `App.jsx` рендерить основний компонент `MathWorkspace.jsx`.
   *   `MathWorkspace.jsx` відображає навігацію по вкладках та вміст активної вкладки (`TabContent.jsx`).
   *   `TabContent.jsx` рендерить список карток виразів (`ExpressionCard.jsx`) для активної вкладки.
3.  **Обчислення виразів:**
   *   Коли користувач додає новий вираз або натискає "Перерахувати", викликається дія `calculateExpression` зі сховища стану (`ExpressionStore.js`).
   *   Ця дія відправляє команду `runExpression` через `MathWorkerClient.js` до Web Worker (`math.js`).
   *   Web Worker виконує обчислення (знаходить власні значення/вектори) і повертає результат у вигляді HTML-рядка (з використанням MathML).
   *   Результат зберігається у стані Zustand (`results`).
4.  **Відображення результатів:**
   *   Компонент `ExpressionCard.jsx`, підписаний на зміни у стані `results`, отримує новий HTML-результат і відображає його.
   *   Після рендерингу результату викликаються функції з `MathInteractionUtils.js` (`scanAndApplyMathPaint`, `initializeVanillaInteractions`) для застосування кастомного рендерингу (стрілки, виділення) та додавання інтерактивності (підсвічування при наведенні, розкриття деталей, підказки).
5.  **Інтерактивність:**
   *   Користувач може взаємодіяти з елементами MathML (наводити курсор, фокусуватись), що викликає підсвічування пов'язаних елементів (`applyHighlight` в `MathInteractionUtils.js`).
   *   При кліку на елементи `<summary>` в детальних кроках, обробник в `ExpressionCard.jsx` може динамічно завантажити додаткові кроки, знову викликавши Web Worker для обчислення цих деталей.
   *   Користувач може редагувати вирази, додавати/видаляти вкладки та вирази. Ці дії оновлюють стан у Zustand (`ExpressionStore.js`), що призводить до перерендеру відповідних компонентів.
6.  **Збереження стану:**
   *   Middleware `persist` у `ExpressionStore.js` автоматично зберігає зміни у стані (вкладки, вирази, активна вкладка) у `localStorage` браузера. Це дозволяє відновити стан при наступному відкритті додатку.

---

# Роль файлів

1. **`_index.jsx`**: Точка входу додатку. Ініціалізує React та рендерить кореневий компонент `App`.
2. **`App.jsx`**: Кореневий компонент. Ініціалізує Web Worker, відображає загальну структуру сторінки (заголовок) та основний робочий простір (`MathWorkspace`). Обробляє стан завантаження Worker'а.
3. **`MathWorkspace.jsx`**: Керує системою вкладок. Відображає панель навігації вкладок, дозволяє додавати/видаляти/перейменовувати вкладки та рендерить вміст активної вкладки (`TabContent`).
4. **`TabContent.jsx`**: Відображає список математичних виразів (`ExpressionCard`) для конкретної вкладки. Містить кнопку для додавання нового виразу до поточної вкладки.
6. **`ExpressionCard.jsx`**: Представляє окремий математичний вираз. Відображає назву, сам вираз, кнопки керування (редагувати, видалити, перерахувати), індикатор завантаження та область для відображення результату. Керує редагуванням виразу та динамічним завантаженням/відображенням деталей обчислень.
7. **`ExpressionStore.js`**: Сховище стану Zustand. Містить всю логіку керування станом додатку: список вкладок, виразів, результатів обчислень, станів завантаження, активної вкладки, стану редагування. Надає дії для оновлення стану (додавання/видалення вкладок/виразів, обчислення тощо) та налаштовує збереження стану у `localStorage`.
8. **`MathWorkerClient.js`**: Клієнт для взаємодії з Web Worker'ом. Ініціалізує Worker'а та надає функцію асинхронного надсилання запитів на обчислення та отримання результатів з Worker'а.
9. **`MathInteractionUtils.js`**: Набір утиліт для роботи з DOM після рендерингу математичного вмісту. Містить функції для:
   *   `scanAndApplyMathPaint`: Кастомний рендеринг елементів MathML (наприклад, виділення елементів матриці, малювання стрілок між рядками).
   *   `initializeVanillaInteractions`: Додавання обробників подій (наведення, фокус) для елементів MathML для реалізації підсвічування та відображення підказок.
   *   Керування відображенням/приховуванням та позиціонуванням спливаючих підказок (`tooltip`).
10. **`math.js`**: (Web Worker) Виконує важкі математичні обчислення у фоновому потоці. Містить реалізації математичних алгоритмів (умовно, `ExpressionParser`). Приймає команди від основного потоку через `MathWorkerClient.js`, виконує обчислення та повертає результат або помилку.
11. **`styles.css`**: Містить усі CSS стилі для компонентів додатку, включаючи стилі для MathML та інтерактивних елементів.

---

## Короткий план дій для встановлення проекту

1.  **Завантажте проект з GitHub**
   *   Перейдіть на сторінку проекту на GitHub
   *   Натисніть зелену кнопку "Code"
   *   Виберіть "Download ZIP"
   *   Розпакуйте завантажений ZIP-архів

2.  **Перейдіть у кореневу папку завантаженого проекту**
   *   Відкрийте командний рядок у цій папці

3.  **Встановіть залежності**
   *   Відкрийте командний рядок Windows (cmd або PowerShell)
   *   Перейдіть до кореневої папки проекту за допомогою команди `cd шлях\до\папки\проекту`
   *   Введіть команду `npm install` та натисніть Enter
   *   Зачекайте завершення процесу встановлення (це може зайняти кілька хвилин)

4.  **Запустіть проект**
   *   У тому ж вікні командного рядка введіть `npm run dev` та натисніть Enter
   *   Зачекайте, поки проект запуститься
   *   У терміналі з'явиться повідомлення з локальною адресою
   *   Відкрийте цю адресу у вашому браузері